(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-074f6d4c"],{"0ef9":function(t,e,n){"use strict";n("6dbb");var a=n("d546"),s=n("ddc4"),r=n("a299"),i=n("655b"),o=n("0056"),l=i("species"),c=RegExp.prototype,u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),g=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var m=i(t),b=!r((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),p=b&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!b||!p||"replace"===t&&(!u||!h||f)||"split"===t&&!g){var v=/./[m],y=n(m,""[t],(function(t,e,n,a,r){var i=e.exec;return i===s||i===c.exec?b&&!r?{done:!0,value:v.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),_=y[0],$=y[1];a(String.prototype,t,_),a(c,m,2==e?function(t,e){return $.call(t,this,e)}:function(t){return $.call(t,this)})}d&&o(c[m],"sham",!0)}},"17cf":function(t,e,n){"use strict";n("e9b5")},3023:function(t,e,n){"use strict";n("69f2")},"340a":function(t,e,n){"use strict";var a=n("67fe"),s=n("b0cd"),r=n("512c");t.exports=function(t){var e=a(this),n=r(e.length),i=arguments.length,o=s(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,c=void 0===l?n:s(l,n);while(c>o)e[o++]=t;return e}},"43dc":function(t,e,n){"use strict";n("7bbe")},"49b8":function(t,e,n){var a=n("67fe"),s=Math.floor,r="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,c,u){var h=n+t.length,d=l.length,f=o;return void 0!==c&&(c=a(c),f=i),r.call(u,f,(function(a,r){var i;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":i=c[r.slice(1,-1)];break;default:var o=+r;if(0===o)return a;if(o>d){var u=s(o/10);return 0===u?a:u<=d?void 0===l[u-1]?r.charAt(1):l[u-1]+r.charAt(1):a}i=l[o-1]}return void 0===i?"":i}))}},6019:function(t,e,n){},"69f2":function(t,e,n){},"6d66":function(t,e,n){"use strict";n("81a1")},"6dbb":function(t,e,n){"use strict";var a=n("e1de"),s=n("ddc4");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},"75c5":function(t,e,n){"use strict";n("81b2")},"7bbe":function(t,e,n){},"7d36":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{model:{value:t.activeTabKey,callback:function(e){t.activeTabKey=e},expression:"activeTabKey"}},t._l(t.tabs,(function(e){return n("el-tab-pane",{key:e.roomId,attrs:{label:t.setTitle(e.title),name:e.roomId}},["hall"===e.type?n("Hall",{attrs:{roomId:e.roomId}}):"room"===e.type?n("Room",{attrs:{roomId:e.roomId}}):t._e()],1)})),1)},s=[],r=(n("6dbb"),n("e0e8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:5}},[n("PlayerTable",{attrs:{roomId:"hall"}}),n("Dialog",{attrs:{roomId:"hall"}})],1),n("el-col",{attrs:{span:14}},[n("RoomTable")],1),n("el-col",{attrs:{span:5}},[n("PlayerDetails"),n("Advertisement")],1)],1)}),i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v(t._s(t.title))])]),n("div",{staticClass:"scrollbar"},[n("el-table",{attrs:{data:t.players,"show-header":!1,size:"mini"}},[n("el-table-column",{attrs:{prop:"name"}}),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t("lang.status."+e.row.status))+" ")]}}])})],1)],1)])},l=[],c=n("807d"),u={name:"PlayerTable",props:["roomId"],data:function(){return{players:[]}},computed:{playerTable:function(){return this.$store.getters.playerTable},title:function(){return"hall"===this.roomId?this.$t("lang.playerTable.playerList"):this.$t("lang.playerTable.spectatorList")}},watch:{playerTable:function(t){t.roomId===this.roomId&&(this.players=t.players)}},mounted:function(){Object(c["d"])()}},h=u,d=(n("43dc"),n("4ac2")),f=Object(d["a"])(h,o,l,!1,null,"91e2c7a6",null),g=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("lang.dialog.dialog")))])]),n("div",{staticClass:"scrollbar"},t._l(t.dialog,(function(e,a){return n("div",{key:a,staticClass:"line"},[n("span",{staticStyle:{"font-size":"xx-small"}},[t._v(t._s(e.time))]),n("br"),n("span",[t._v(t._s(e.from)+": "+t._s(e.content))])])})),0),n("div",[n("el-input",{staticClass:"input",attrs:{size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSend(e)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("el-button",{staticClass:"send-button",attrs:{size:"mini"},on:{click:t.onSend}},[t._v(t._s(t.$t("lang.dialog.send")))])],1)])},b=[],p=(n("9113"),n("74e1"),{name:"Dialog",props:["roomId"],data:function(){return{input:"",dialog:[]}},methods:{onSend:function(){""!==this.input&&("hall"===this.roomId?Object(c["f"])(this.input):Object(c["k"])(this.$store.getters.player.name,this.input,this.roomId),this.input="")},addDialogMsg:function(t){this.dialog.length>=10&&this.dialog.splice(0,1),this.dialog.push(t)}},computed:{dialogMsg:function(){return"hall"===this.roomId?this.$store.getters.hallDialogMsg:this.$store.getters.roomChatDTO}},watch:{dialogMsg:function(t){"hall"!==this.roomId&&t.rid!==this.roomId||this.addDialogMsg(t)}},mounted:function(){if("hall"===this.roomId){var t=new Date;this.$store.dispatch("setHallDialogMsg",{time:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDay()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),from:"系统消息",content:"Settings里设置语言"})}}}),v=p,y=(n("3023"),Object(d["a"])(v,m,b,!1,null,"6670b452",null)),_=y.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("lang.profile.profile")))])]),n("div",{staticClass:"scrollbar"},[n("el-avatar",{attrs:{size:50,src:t.circleUrl}}),n("el-form",{attrs:{model:t.player}},[n("el-form-item",{attrs:{label:t.$t("lang.profile.name")}},[t._v(t._s(t.player.name))]),n("el-form-item",{attrs:{label:t.$t("lang.profile.status")}},[t._v(t._s(t.$t("lang.status."+t.player.status)))])],1)],1)])},x=[],C={name:"Profile",data:function(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}},computed:{player:function(){return this.$store.getters.player}}},w=C,I=(n("6d66"),Object(d["a"])(w,$,x,!1,null,"717261a1",null)),S=I.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-image",{attrs:{src:t.src,fit:"fill"}})],1)},j=[],R={name:"Advertisement",data:function(){return{src:n("e496")}}},T=R,D=(n("b880"),Object(d["a"])(T,O,j,!1,null,"12a8fd0d",null)),k=D.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("lang.roomTable.chessRoomList")))]),n("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini"},on:{click:t.onCreateRoom}},[t._v(t._s(t.$t("lang.roomTable.createRoom")))]),n("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini"},on:{click:t.onRefresh}},[t._v(t._s(t.$t("lang.roomTable.refresh")))])],1),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialog.visible,width:"25%"},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[n("el-form",[n("el-form-item",{attrs:{label:t.$t("lang.roomTable.dialog.color")}},[n("el-select",{model:{value:t.dialog.color,callback:function(e){t.$set(t.dialog,"color",e)},expression:"dialog.color"}},[n("el-option",{attrs:{label:t.$t("lang.color.black"),value:0}}),n("el-option",{attrs:{label:t.$t("lang.color.white"),value:1}})],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onDialogConfirm}},[t._v(t._s(t.$t("lang.pop.confirm")))]),n("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialog.visible=!1}}},[t._v(t._s(t.$t("lang.pop.cancel")))])],1)],1),n("el-table",{staticClass:"scrollbar",attrs:{data:t.rooms,"show-header":!1}},[n("el-table-column",{attrs:{label:"room"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{staticStyle:{display:"inline-block"}},[n("div",{class:t.getChessClass(e.row.host)}),n("div",{staticStyle:{float:"left"}},[t._v(t._s(e.row.host.name)+" vs "+t._s(e.row.challenger.name))]),n("div",{class:t.getChessClass(e.row.challenger)})])}}])}),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.challengeShow(e.row)?n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.onChallenge(e.row)}}},[t._v(t._s(t.$t("lang.roomTable.challenge")))]):t._e(),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.onSpectate(e.row)}}},[t._v(t._s(t.$t("lang.roomTable.spectate")))])]}}])})],1)],1)},P=[],z={black:0,white:1},M={name:"RoomTable",data:function(){return{dialog:{visible:!1,color:z.black}}},methods:{onDialogConfirm:function(){Object(c["b"])(this.dialog.color),this.dialog.visible=!1},onCreateRoom:function(){this.dialog.visible=!0},onChallenge:function(t){Object(c["c"])(t.id,"challenger")},onSpectate:function(t){Object(c["c"])(t.id,"spectator"),"leisure"===this.$store.getters.player.status&&Object(c["l"])("spectating")},onRefresh:function(){Object(c["e"])()},getChessClass:function(t){return""!==t.id&&t.color===z.black?"black":""!==t.id&&t.color===z.white?"white":""},challengeShow:function(t){return""===t.challenger.id}},computed:{dialogTitle:function(){return this.$t("lang.roomTable.dialog.title")},rooms:function(){return this.$store.getters.rooms}},mounted:function(){Object(c["e"])()}},A=M,B=(n("75c5"),Object(d["a"])(A,E,P,!1,null,"0b9448d8",null)),L=B.exports,U={name:"Hall",components:{RoomTable:L,Advertisement:k,PlayerDetails:S,Dialog:_,PlayerTable:g}},F=U,K=Object(d["a"])(F,r,i,!1,null,"2f55a378",null),N=K.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:5}},[n("PlayerTable",{attrs:{roomId:t.roomId}}),n("Dialog",{attrs:{roomId:t.roomId}})],1),n("el-col",{attrs:{span:14}},[n("ChessBoard",{attrs:{roomId:t.roomId}})],1),n("el-col",{attrs:{span:5}},[n("MatchDetails",{attrs:{roomId:t.roomId}})],1)],1)},G=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("lang.matchDetails.matchDetails")))])]),n("div",{staticClass:"scrollbar"},[n("div",{staticClass:"role"},[t._v(" "+t._s(t.host.name)+" "),t.readyBtnShow(t.host)?n("el-button",{staticStyle:{"margin-left":"10%"},attrs:{size:"medium"},on:{click:t.onReady}},[t._v(t._s(t.$t("lang.matchDetails.ready")))]):!1===t.host.ready?n("span",{staticStyle:{"margin-left":"10%"}},[t._v(t._s(t.$t("lang.matchDetails.unready")))]):!0===t.host.ready?n("span",{staticStyle:{"margin-left":"10%"}},[t._v(t._s(t.$t("lang.matchDetails.already")))]):t._e()],1),n("el-form",[n("el-form-item",{attrs:{label:t.$t("lang.color.color")}},[n("div",{class:t.getChessClass(t.host.color)})]),n("el-form-item",{attrs:{label:"role"}},[t._v(t._s(t.$t("lang.role.host")))])],1),n("el-divider"),n("div",{staticClass:"role"},[t._v(" "+t._s(t.challenger.name)+" "),t.readyBtnShow(t.challenger)?n("el-button",{staticStyle:{"margin-left":"10%"},attrs:{size:"medium"},on:{click:t.onReady}},[t._v(t._s(t.$t("lang.matchDetails.ready")))]):!1===t.challenger.ready?n("span",{staticStyle:{"margin-left":"10%"}},[t._v(t._s(t.$t("lang.matchDetails.unready")))]):!0===t.challenger.ready?n("span",{staticStyle:{"margin-left":"10%"}},[t._v(t._s(t.$t("lang.matchDetails.already")))]):t._e()],1),n("el-form",[n("el-form-item",{attrs:{label:t.$t("lang.color.color")}},[n("div",{class:t.getChessClass(t.challenger.color)})]),n("el-form-item",{attrs:{label:"role"}},[t._v(t._s(t.$t("lang.role.challenger")))])],1)],1)])},X=[],J={name:"MatchDetails",props:["roomId"],data:function(){return{host:{},challenger:{}}},methods:{getChessClass:function(t){return t===z.black?"black":t===z.white?"white":""},readyBtnShow:function(t){return t.id===this.$store.getters.player.id&&!1===t.ready},onReady:function(){Object(c["m"])(this.roomId,!0)},isPlayer:function(){var t=this.$store.getters.player.id;return t===this.host.id||t===this.challenger.id}},computed:{matchDetails:function(){return this.$store.getters.matchDetails},playerStatus:function(){return this.$store.getters.player.status},started:function(){return this.host.ready&&this.challenger.ready}},watch:{matchDetails:function(t){t.roomId===this.roomId&&(this.host=t.host,this.challenger=t.challenger)},playerStatus:function(t){"chessing"!==t&&this.started&&this.isPlayer()?Object(c["l"])("chessing"):"leisure"!==t||this.isPlayer()||Object(c["l"])("spectating")},started:function(t){this.isPlayer()&&(t?Object(c["l"])("chessing"):Object(c["l"])("leisure"))}}},q=J,Q=(n("17cf"),Object(d["a"])(q,Y,X,!1,null,"00be3f1a",null)),V=Q.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{height:"20px",display:"block","text-align":"center"}},[t.started?t._e():n("span",{staticStyle:{"font-size":"large","font-weight":"bold"}},[t._v(t._s(t.title))]),n("el-button",{staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:function(e){return t.onExit()}}},[t._v(t._s(t.$t("lang.chessboard.button.exit")))])],1),n("el-main",[n("canvas",{attrs:{id:t.roomId},on:{click:t.onClick}},[t._v("Your browser doesn't support canvas")])]),n("el-footer",{staticStyle:{height:"20px"},attrs:{align:"center"}},[n("el-button",{attrs:{size:"mini",disabled:t.buttonDisabled},on:{click:function(e){return t.onRetract()}}},[t._v(t._s(t.$t("lang.chessboard.button.retract")))]),n("el-button",{attrs:{size:"mini",disabled:t.buttonDisabled},on:{click:function(e){return t.onSurrender()}}},[t._v(t._s(t.$t("lang.chessboard.button.surrender")))]),n("el-button",{attrs:{size:"mini",disabled:t.buttonDisabled},on:{click:function(e){return t.onDraw()}}},[t._v(t._s(t.$t("lang.chessboard.button.draw")))])],1)],1)},Z=[],tt=n("a892"),et=(n("e5f4"),n("dd8d"),495),nt=33,at=nt/2,st=15,rt={name:"ChessBoard",props:["roomId"],data:function(){return{context:{},steps:[],myColor:-1,title:this.$t("lang.chessboard.message.clickReady"),started:!1,waitResponse:!1}},methods:{initCanvas:function(){var t=document.getElementById(this.roomId);t.width=et,t.height=et,this.context=t.getContext("2d")},drawChessboard:function(){for(var t=0;t<15;t++){var e=this.context;e.moveTo(at+t*nt,at),e.lineTo(at+t*nt,et-at),e.stroke(),e.moveTo(at,at+t*nt),e.lineTo(et-at,at+t*nt),e.stroke()}},drawChess:function(t,e,n){var a=this.context;a.beginPath(),a.arc(at+t*nt,at+e*nt,st,0,2*Math.PI),a.closePath(),n===z.black?(a.fillStyle="#000000",a.fill()):n===z.white&&(a.stroke(),a.fillStyle="#FFFFFF",a.fill())},drawLabel:function(t,e){var n=this.context;n.beginPath(),n.arc(at+t*nt,at+e*nt,st/3,0,2*Math.PI),n.closePath(),n.fillStyle="#FFB90F",n.fill()},labelLastStep:function(){var t=this.steps.length;if(t>0){var e=this.steps[t-1];if(this.drawLabel(e.i,e.j),t>1){var n=t-2,a=this.steps[n];this.drawChess(a.i,a.j,n%2)}}},removeChess:function(t,e){this.context.clearRect(t*nt,e*nt,nt,nt)},hasStep:function(t,e){var n,a=Object(tt["a"])(this.steps);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.i===t&&s.j===e)return!0}}catch(r){a.e(r)}finally{a.f()}return!1},chess:function(t,e){this.steps.push({i:t,j:e}),this.drawChess(t,e,1-this.turn),this.labelLastStep()},onClick:function(t){if(!this.chessboardDisabled){var e=t.offsetX,n=t.offsetY,a=Math.floor(e/nt),s=Math.floor(n/nt);this.hasStep(a,s)||(this.chess(a,s),Object(c["h"])(this.roomId,a,s))}},onRetract:function(){this.waitResponse=!0,this.$message.info(this.$t("lang.chessboard.message.retractSent")),Object(c["j"])(this.roomId,1)},onExit:function(){this.$store.dispatch("removeTab",this.roomId),Object(c["g"])(this.roomId),Object(c["l"])("leisure")},onSurrender:function(){Object(c["n"])(this.roomId)},onDraw:function(){this.waitResponse=!0,this.$message.info(this.$t("lang.chessboard.message.drawSent")),Object(c["a"])(this.roomId,1)}},mounted:function(){this.initCanvas()},computed:{matchDetails:function(){return this.$store.getters.matchDetails},turn:function(){return this.steps.length%2},chessboardDisabled:function(){return this.myColor!==this.turn||this.waitResponse},buttonDisabled:function(){return-1===this.myColor||this.waitResponse},step:function(){return this.$store.getters.step},gameOverDTO:function(){return this.$store.getters.gameOverDTO},chessboard:function(){return this.$store.getters.chessboard},drawDTO:function(){return this.$store.getters.drawDTO},retractDTO:function(){return this.$store.getters.retractDTO}},watch:{matchDetails:function(t){if(t.roomId===this.roomId){if(t.host.ready&&t.challenger.ready){this.started=!0,this.steps=[],this.context.clearRect(0,0,et,et);var e=this.$store.getters.player.id;if(t.host.id===e)return void(this.myColor=t.host.color);if(t.challenger.id===e)return void(this.myColor=t.challenger.color)}this.myColor=-1}},step:function(t){t.rid!==this.roomId||this.hasStep(t.i,t.j)||this.chess(t.i,t.j)},gameOverDTO:function(t){t.rid===this.roomId&&(this.started=!1,"five"===t.cause?this.title=this.$t("lang.chessboard.message.over.five")+t.winner.name:"escape"===t.cause?this.title=t.loser.name+this.$t("lang.chessboard.message.over.escape")+t.winner.name:"surrender"===t.cause?this.title=t.loser.name+this.$t("lang.chessboard.message.over.surrender")+t.winner.name:"draw"===t.cause?(this.waitResponse=!1,this.title=this.$t("lang.chessboard.message.over.draw")):this.title="",this.$alert(this.title),this.myColor=-1)},chessboard:function(t){var e=this;t.roomId===this.roomId&&(this.steps=t.steps,this.steps.forEach((function(t,n){e.drawChess(t.i,t.j,n%2)})),this.labelLastStep())},drawDTO:function(t){var e=this;t.rid===this.roomId&&(1===t.consent?this.$confirm(this.$t("lang.chessboard.message.askDraw.info"),this.$t("lang.chessboard.message.askDraw.title"),{confirmButtonText:this.$t("lang.pop.yes"),cancelButtonText:this.$t("lang.pop.no"),type:"info"}).then((function(){Object(c["a"])(e.roomId,2)})).catch((function(){Object(c["a"])(e.roomId,0)})):0===t.consent&&(this.waitResponse=!1,this.$alert(this.$t("lang.chessboard.message.rejectDraw.info"),this.$t("lang.chessboard.message.rejectDraw.title"))))},retractDTO:function(t){var e=this;if(t.rid===this.roomId)if(1===t.consent)this.$confirm(this.$t("lang.chessboard.message.askRetract.info"),this.$t("lang.chessboard.message.askRetract.title"),{confirmButtonText:this.$t("lang.pop.yes"),cancelButtonText:this.$t("lang.pop.no"),type:"info"}).then((function(){Object(c["j"])(e.roomId,2)})).catch((function(){Object(c["j"])(e.roomId,0)}));else if(0===t.consent)this.waitResponse=!1,this.$alert(this.$t("lang.chessboard.message.rejectRetract.info"),this.$t("lang.chessboard.message.rejectRetract.title"));else if(2===t.consent){this.$message.info(this.$t("lang.chessboard.message.agreeRetract.info"));for(var n=0;n<t.count;n++){var a=this.steps.length-1,s=this.steps[a];this.removeChess(s.i,s.j),this.steps.splice(a,1)}this.labelLastStep(),this.waitResponse=!1}}}},it=rt,ot=(n("9a3f"),Object(d["a"])(it,W,Z,!1,null,"18d3ab24",null)),lt=ot.exports,ct={name:"Room",components:{ChessBoard:lt,MatchDetails:V,Dialog:_,PlayerTable:g},props:["roomId"],data:function(){return{}},methods:{test:function(){console.log("test")}}},ut=ct,ht=Object(d["a"])(ut,H,G,!1,null,"87ebc630",null),dt=ht.exports,ft={name:"Game",components:{Hall:N,Room:dt},data:function(){return{}},methods:{setTitle:function(t){return"zh"===this.$i18n.locale&&(t=t.replace(/Room/g,"房间"),t=t.replace(/Hall/g,"大厅")),t}},computed:{tabs:function(){return this.$store.getters.tabs},activeTabKey:{get:function(){return this.$store.getters.activeTabKey},set:function(t){this.$store.dispatch("changeTab",t)}}}},gt=ft,mt=Object(d["a"])(gt,a,s,!1,null,"6f4ab636",null);e["default"]=mt.exports},8056:function(t,e,n){"use strict";var a=n("a299");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"807d":function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"k",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"h",(function(){return b})),n.d(e,"n",(function(){return p})),n.d(e,"a",(function(){return v})),n.d(e,"j",(function(){return y}));var a=n("4e50"),s=n("07dc"),r=n("4360");function i(t){Object(s["b"])(a["a"].HallChat,t)}function o(){Object(s["b"])(a["a"].GetRooms,"")}function l(t){Object(s["b"])(a["a"].CreateRoom,t)}function c(t,e){Object(s["b"])(a["a"].EnterRoom,{rid:t,role:e})}function u(t){Object(s["b"])(a["a"].LeaveRoom,t)}function h(t,e,n){Object(s["b"])(a["a"].RoomChat,{from:t,content:e,rid:n})}function d(){Object(s["b"])(a["a"].GetPlayers,"")}function f(t){r["a"].dispatch("playerRename",t),Object(s["b"])(a["a"].PlayerRename,t)}function g(t){Object(s["b"])(a["a"].SetPlayerStatus,t)}function m(t,e){Object(s["b"])(a["a"].SetReady,{rid:t,ready:e})}function b(t,e,n){Object(s["b"])(a["a"].MakeStep,{rid:t,i:e,j:n})}function p(t){Object(s["b"])(a["a"].Surrender,t)}function v(t,e){Object(s["b"])(a["a"].AskDraw,{rid:t,consent:e})}function y(t,e){Object(s["b"])(a["a"].RetractStep,{rid:t,consent:e})}},"81a1":function(t,e,n){},"81b2":function(t,e,n){},"9a3f":function(t,e,n){"use strict";n("a1c6")},a1c6:function(t,e,n){},acaa:function(t,e,n){"use strict";var a=n("20be").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},b880:function(t,e,n){"use strict";n("6019")},d411:function(t,e,n){"use strict";var a=n("719e");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ddc4:function(t,e,n){"use strict";var a=n("d411"),s=n("8056"),r=n("e4af"),i=RegExp.prototype.exec,o=r("native-string-replace",String.prototype.replace),l=i,c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=s.UNSUPPORTED_Y||s.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],d=c||h||u;d&&(l=function(t){var e,n,s,r,l=this,d=u&&l.sticky,f=a.call(l),g=l.source,m=0,b=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),b=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(g="(?: "+g+")",b=" "+b,m++),n=new RegExp("^(?:"+g+")",f)),h&&(n=new RegExp("^"+g+"$(?!\\s)",f)),c&&(e=l.lastIndex),s=i.call(d?n:l,b),d?s?(s.input=s.input.slice(m),s[0]=s[0].slice(m),s.index=l.lastIndex,l.lastIndex+=s[0].length):l.lastIndex=0:c&&s&&(l.lastIndex=l.global?s.index+s[0].length:e),h&&s&&s.length>1&&o.call(s[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(s[r]=void 0)})),s}),t.exports=l},e0e8:function(t,e,n){"use strict";var a=n("0ef9"),s=n("719e"),r=n("512c"),i=n("eb95"),o=n("b191"),l=n("acaa"),c=n("49b8"),u=n("f1ae"),h=Math.max,d=Math.min,f=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(n,a){var s=o(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,s,a):e.call(String(s),n,a)},function(t,a){if(!g&&m||"string"===typeof a&&-1===a.indexOf(b)){var o=n(e,t,this,a);if(o.done)return o.value}var p=s(t),v=String(this),y="function"===typeof a;y||(a=String(a));var _=p.global;if(_){var $=p.unicode;p.lastIndex=0}var x=[];while(1){var C=u(p,v);if(null===C)break;if(x.push(C),!_)break;var w=String(C[0]);""===w&&(p.lastIndex=l(v,r(p.lastIndex),$))}for(var I="",S=0,O=0;O<x.length;O++){C=x[O];for(var j=String(C[0]),R=h(d(i(C.index),v.length),0),T=[],D=1;D<C.length;D++)T.push(f(C[D]));var k=C.groups;if(y){var E=[j].concat(T,R,v);void 0!==k&&E.push(k);var P=String(a.apply(void 0,E))}else P=c(j,v,R,T,k,a);R>=S&&(I+=v.slice(S,R)+P,S=R+j.length)}return I+v.slice(S)}]}))},e496:function(t,e,n){t.exports=n.p+"img/ad2.d6c65a23.jpg"},e5f4:function(t,e,n){var a=n("e1de"),s=n("340a"),r=n("078f");a({target:"Array",proto:!0},{fill:s}),r("fill")},e9b5:function(t,e,n){},f1ae:function(t,e,n){var a=n("10ef"),s=n("ddc4");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}}}]);
//# sourceMappingURL=chunk-074f6d4c.23e39a4b.js.map